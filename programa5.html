<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Punteria</title>
    <style>
        .centrado{
            text-align: center;
        }
        #canvas{
            width: 600px;
            height:400px;
            margin: 0px auto;
            border: 1px solid black;
        }
        a{
            text-align: center;
            display: inline-block;
            width: 100%;
        }   

    </style>
</head>
<body>
    <h1 class="centrado">Juego de punteria por Juan Bermudez</h1>
    <div id="canvas">
        <canvas width="600" height="400"></canvas>
    </div>
    <p class="centrado">Mi primer proyecto con HTML5, CSS y JS</p>
    
    <A text-align="center" HREF="https://github.com/juanbermudezg" target="_blank"> Mi perfil de GitHub </A>
   
    <A text-align="center" HREF="https://www.linkedin.com/in/juanbermudezgomez/" target="_blank"> Mi perfil de Linkedln </A>
    
    

<script>
    var pantalla=document.querySelector("canvas");
    var pincel = pantalla.getContext("2d");
    var fondo = new Image();
    fondo.src="fondo.jpg";
    fondo.onload = function (){
        pincel.drawImage(fondo,0,0);
    }
    

    function disegnarCircunferencia(x,y,r, color){
        pincel.fillStyle=color;
        pincel.beginPath();
        pincel.arc(x,y,r,0,2*Math.PI);
        pincel.fill();
    }
    var xAleatorio;
    var yAleatorio;
    var radio = 10;
    function limpiarPantalla(){
        pincel.clearRect(0,0,600,400);
        
        pincel.drawImage(fondo,0,0);
    
    }

    function actualizarPantalla(){
        limpiarPantalla();
        xAleatorio = sortearPosicion(600);
        yAleatorio = sortearPosicion(400);
        disegnarObjetivo(xAleatorio,yAleatorio);
        x++;
    }  

    function disegnarObjetivo(x,y){
        disegnarCircunferencia(x,y,radio+25,"red");
        disegnarCircunferencia(x,y,radio+15,"white");
        disegnarCircunferencia(x,y,radio+5,"red");
        disegnarCircunferencia(x,y,5,"white");
    }
    
    function sortearPosicion(maximo){
        return Math.floor(Math.random()*maximo);
    }
    
   
    setInterval(actualizarPantalla,1000);
    
    function disparar (evento){
        var x=evento.pageX-pantalla.offsetLeft;
        var y=evento.pageY-pantalla.offsetTop;
        if (x<xAleatorio+radio&&x>xAleatorio-radio&&y<yAleatorio+radio&&y>yAleatorio-radio){
            alert("Que punteria parce!")
        }
        
    }

    pantalla.onclick = disparar;
    
    
</script>
</body>
</html>

